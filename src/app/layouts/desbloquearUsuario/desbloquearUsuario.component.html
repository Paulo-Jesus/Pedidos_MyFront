<div class="main_container_bg">
  <div class="container_info">
    <div class="header_title_content">
      <h1>Desbloquear Usuario</h1>
    </div>
    <div class="container_table">      
      <div class="container_main_actions">
        <div class="container_main_actions_left">
          <div class="container_name">
            <p>Rol:</p>   
            <div class="container_form_button">      
              <mat-form-field appearance="outline" id="checkSelect">
                <mat-label>Elija una opcion</mat-label>
                <mat-select [ngModel]="selectedOption" (ngModelChange)="setSelection($event)"> 
                  <mat-option value="pInicial">Elija una opcion</mat-option>             
                  <mat-option *ngFor="let data of datosTabla" [value]="data.nombreRol">{{data.nombreRol}}</mat-option>
                </mat-select>
              </mat-form-field>
              <mat-form-field appearance="outline" id="checkSelect">
                <mat-label>Correo electronico:</mat-label>
                <input type="text" matInput #correo>
              </mat-form-field>
              <button mat-button class="buttons" id="clean" (click)="limpiarDatos()">
                <i class="bi bi-trash"></i>              
              </button>
            </div>
          </div>
        </div>
        <div class="container_main_actions_right">
          <div class="buttons_content_actions">
            <button mat-button class="buttons" id="search" (click)="buscarUsuario(correo.value,correo)">
              Buscar
              <i class="bi bi-search"></i>
            </button>
            <button mat-button class="buttons" id="unlock" (click)="desbloquearUsuario()">
              Desbloquear
              <i class="bi bi-unlock"></i>
            </button>
          </div>
        </div>
      </div>


      <div class="container_table">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      
          <ng-container matColumnDef="check" sticky>
            <th mat-header-cell *matHeaderCellDef> </th>
            <td mat-cell *matCellDef="let element"> 
              <mat-checkbox class="example-margin" [(ngModel)]="element.checked" (change)="rowSelect(element)"></mat-checkbox>   
            </td>
          </ng-container>
        
          <ng-container matColumnDef="name" sticky>
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let element">{{element.nombre}}</td>
          </ng-container>
        
          <ng-container matColumnDef="userName">
            <th mat-header-cell *matHeaderCellDef> Correo </th>
            <td mat-cell *matCellDef="let element">{{element.correo}}</td>
          </ng-container>

          <ng-container matColumnDef="rol">
            <th mat-header-cell *matHeaderCellDef> Rol actual </th>
            <td mat-cell *matCellDef="let element">{{element.nombreRol}}</td>
          </ng-container>
        
          <ng-container matColumnDef="state">
            <th mat-header-cell *matHeaderCellDef> Estado </th>
            <td mat-cell *matCellDef="let element" id="state"> {{element.nombreEstado}} </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>
      </div>
    </div>
    
    <mat-paginator 
      [length]="length"
      [pageSize]="5"
      aria-label="Select page"
      >
    </mat-paginator>
    
  </div>
</div>

<div class="loader_content" *ngIf="load">
  <app-loader ></app-loader>
</div>